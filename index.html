<!DOCTYPE html>
<html lang="pt-MZ" class="scroll-smooth">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Cota√ß√£o Express ‚Äî iPhones, Samsungs & Electr√≥nicos</title>
<meta name="description" content="Envie a foto/print, seu nome e WhatsApp. Receba cota√ß√£o r√°pida de iPhones, Samsungs e eletr√≥nicos.">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg1:#070d19; --bg2:#0b1224; --bg3:#0e1530; --ink:#eaf6ff; --muted:#9db9d2;
  --pri:#00e5ff; --accent:#7c3aed; --shadow: 0 30px 80px rgba(0,0,0,.55);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);}
body{
  background:
  radial-gradient(1200px 600px at 10% -10%, rgba(124,58,237,.22), transparent 60%),
  radial-gradient(1200px 600px at 120% 10%, rgba(0,212,255,.18), transparent 60%),
  linear-gradient(180deg, var(--bg1), var(--bg2) 40%, var(--bg3));
  background-attachment: fixed;
}
a{color:var(--pri); text-decoration:none}
.container{max-width:1100px;margin:0 auto;padding:0 18px}
.glass{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.10); backdrop-filter: blur(10px); border-radius:18px;
  box-shadow: var(--shadow);
}
header{position:sticky;top:0; z-index:50; background:rgba(6,10,22,.55); backdrop-filter: blur(10px); border-bottom:1px solid rgba(255,255,255,.08)}
.nav{display:flex; align-items:center; justify-content:space-between; padding:14px 0}
.brand{display:flex; gap:12px; align-items:center}
.logo{width:44px;height:44px;border-radius:14px; display:grid; place-items:center; background: radial-gradient(circle at 30% 30%, #00e5ff, transparent 45%), radial-gradient(circle at 70% 60%, #7c3aed, transparent 45%), linear-gradient(135deg,#0b1224, #1b2a50); box-shadow: inset 0 0 20px rgba(0,229,255,.28),0 10px 30px rgba(0,0,0,.5);}
.brand h1{font-family:Poppins,Inter,sans-serif;margin:0;font-size:18px;letter-spacing:.2px}
.nav .cta{padding:10px 14px;border-radius:12px;background:linear-gradient(135deg,var(--pri),var(--accent));color:#051320;font-weight:800;}

.hero{display:grid; grid-template-columns:1.1fr .9fr; gap:26px; padding:26px 0 10px}
.hero h2{font-family:Poppins,Inter,sans-serif;font-size: clamp(26px,3.4vw,42px);line-height:1.1;margin:10px 0;}
.hero .lead{color:var(--muted); font-size:15px;margin-bottom:16px}

.form-wrap{margin-top:18px; display:grid; grid-template-columns:1fr .9fr; gap:26px}
.card{padding:18px; border-radius:18px;}
label{font-size:12px;color:var(--muted);display:block;margin-bottom:6px}
.field{position:relative}
.input{width:100%; background:rgba(0,0,0,.36); color:var(--ink); padding:12px 12px 12px 44px; border-radius:12px; border:1px solid rgba(255,255,255,.12); outline:none}
.input:focus{border-color:var(--pri); box-shadow:0 0 0 4px rgba(0,229,255,.08)}
.phone{display:grid; grid-template-columns:72px 1fr; gap:8px}
.cc{display:grid; place-items:center; border-radius:12px; border:1px solid rgba(255,255,255,.12); background:rgba(0,0,0,.36); color:var(--muted)}

.dropzone{border:2px dashed rgba(0,229,255,.28); border-radius:16px; padding:16px; text-align:center; cursor:pointer; position:relative; overflow:hidden; background:rgba(0,0,0,.32)}
.dropzone:hover{border-color:rgba(124,58,237,.4)}
.dropzone input{position:absolute; inset:0; opacity:0; cursor:pointer}
.dz-instr{font-size:14px; color:var(--muted)}
.previews{display:grid; grid-template-columns: repeat(auto-fill,minmax(90px,1fr)); gap:10px; margin-top:12px}
.thumb{position:relative; border-radius:12px; overflow:hidden; border:1px solid rgba(255,255,255,.08)}
.thumb img{display:block; width:100%; height:90px; object-fit:cover}
.thumb .x{position:absolute; right:6px; top:6px; background:rgba(0,0,0,.55); border:1px solid rgba(255,255,255,.2); width:24px; height:24px; border-radius:6px; font-size:14px}

.actions{display:flex; gap:10px; align-items:center; margin-top:14px}
.btn{padding:12px 16px; border-radius:14px; font-weight:800; border:none; cursor:pointer}
.btn-primary{background:linear-gradient(135deg,var(--pri),var(--accent)); color:#04121f}
.btn-ghost{background:rgba(255,255,255,.06); color:var(--ink); border:1px solid rgba(255,255,255,.10)}

.status-msg{margin-top:12px; font-weight:600; font-size:14px}

@media (max-width:980px){.hero{grid-template-columns:1fr}.form-wrap{grid-template-columns:1fr}}
@media (max-width:620px){.nav .cta{display:none}}
</style>
</head>
<body>
<header>
  <div class="container nav">
    <a href="#top" class="brand">
      <div class="logo"></div>
      <h1>Cota√ß√£o Express</h1>
    </a>
    <a href="#pedido" class="cta">Quero minha cota√ß√£o</a>
  </div>
</header>

<main class="container" id="top">
<section class="hero">
  <div class="panel glass">
    <h2>Importe <span style="color:var(--pri)">iPhones</span>, <span style="color:var(--pri)">Samsungs</span> e Electr√≥nicos com <span style="color:var(--pri)">pre√ßos baixos</span> e <span style="color:var(--pri)">qualidade alta</span></h2>
    <p class="lead">Envie a foto/print, seu nome e WhatsApp. N√≥s retornamos a melhor proposta completa (produto + frete + impostos).</p>
  </div>
</section>

<section id="pedido" class="form-wrap">
  <div class="glass card">
    <h3>Envie a foto do produto</h3>
    <div class="dropzone" id="dropzone">
      <input type="file" id="fileInput" accept="image/*">
      <div id="dzEmpty">
        <div>Arraste e solte aqui, ou clique para escolher</div>
        <div class="dz-instr">Dica: print n√≠tido acelera a cota√ß√£o.</div>
      </div>
      <div id="previews" class="previews" hidden></div>
    </div>
  </div>

  <div class="glass card">
    <h3>Seus dados</h3>
    <form id="quoteForm">
      <div class="field">
        <label for="nome">Nome completo *</label>
        <input class="input" id="nome" name="nome" type="text" placeholder="Ex.: Jo√£o Silva" required>
      </div>

      <div class="field" style="margin-top:10px">
        <label for="phone">WhatsApp *</label>
        <div class="phone">
          <div class="cc">+258</div>
          <input class="input" id="phone" name="phone" type="tel" pattern="^[78]\d{8}$" minlength="9" maxlength="9" placeholder="841234567" required>
        </div>
      </div>

      <div class="actions">
        <button type="submit" class="btn btn-primary">üì© Enviar</button>
        <button type="reset" class="btn btn-ghost">Limpar</button>
      </div>
      <div id="status" class="status-msg"></div>
    </form>
  </div>
</section>
</main>

<footer style="text-align:center; padding:26px 0; color:var(--muted); font-size:12px">
¬© <span id="year"></span> Cota√ß√£o Express ‚Ä¢ Importa√ß√£o simplificada
</footer>

<script>
// Atualiza ano
document.getElementById('year').textContent = new Date().getFullYear();

// Dropzone Preview
const dz = document.getElementById('dropzone');
const fileInput = document.getElementById('fileInput');
const previews = document.getElementById('previews');

dz.addEventListener('dragover', e=>{e.preventDefault(); dz.style.borderColor='var(--pri)';});
dz.addEventListener('dragleave', ()=>{dz.style.borderColor='rgba(0,229,255,.28)';});
dz.addEventListener('drop', async e=>{e.preventDefault(); dz.style.borderColor='rgba(0,229,255,.28)'; const f=e.dataTransfer.files[0]; await handleFile(f);});
fileInput.addEventListener('change', async e=>{const f=e.target.files[0]; await handleFile(f);});

let selectedFile = null;
async function handleFile(f){
  if(!f.type.startsWith('image/')) { alert('Apenas imagens'); return; }
  selectedFile = f;
  previews.innerHTML = `<div class="thumb"><img src="${URL.createObjectURL(f)}"><button type="button" class="x" onclick="previews.innerHTML='';selectedFile=null;fileInput.value='';">‚úï</button></div>`;
  previews.hidden=false; document.getElementById('dzEmpty').hidden=true;
}

// Configura√ß√£o Cloudinary
const CLOUD_NAME = "dfycprdka";
const UPLOAD_PRESET = "two line";

// Google Apps Script URL
const SHEETS_WEBAPP_URL = "https://script.google.com/macros/s/AKfycbyjUY1ogQeh0zCdNU5512iiH5yRuTmjeMenFC9qAlkZG3lmkwj1rj81JUxnp_teO6PpZQ/exec";

// Envio do formul√°rio
document.getElementById('quoteForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const statusEl = document.getElementById('status');
  statusEl.textContent = "‚è≥ Enviando...";

  const nome = document.getElementById('nome').value;
  const phone = document.getElementById('phone').value;

  if(!selectedFile){
    statusEl.textContent = "‚ùå Selecione uma imagem.";
    return;
  }

  try {
    // Upload para Cloudinary
    const formData = new FormData();
    formData.append("file", selectedFile);
    formData.append("upload_preset", UPLOAD_PRESET);

    const cloudRes = await fetch(`https://api.cloudinary.com/v1_1/${CLOUD_NAME}/upload`, {
      method:"POST",
      body: formData
    });
    const cloudData = await cloudRes.json();
    const imageUrl = cloudData.secure_url;

    // Envia para Google Sheets
    const sheetRes = await fetch(SHEETS_WEBAPP_URL, {
      method:"POST",
      body: JSON.stringify({nome, phone, imagem: imageUrl}),
      headers: {"Content-Type":"application/json"}
    });

    if(sheetRes.ok){
      statusEl.textContent = "‚úÖ Enviado com sucesso!";
      document.getElementById('quoteForm').reset();
      previews.innerHTML="";
      selectedFile = null;
      document.getElementById('dzEmpty').hidden=false;
    } else {
      statusEl.textContent = "‚ùå Falha no envio para Sheets.";
    }

  } catch(err){
    console.error(err);
    statusEl.textContent = "‚ùå Ocorreu um erro ao enviar.";
  }
});
</script>
</body>
</html>